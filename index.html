<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Ngsomics : Cloud-based, Dockerized, Mobile-optimized next-generation sequencing and analysis solution">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Ngsomics</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/nathan2wong/NGSomics">View on GitHub</a>

          <h1 id="project_title">Ngsomics</h1>
          <h2 id="project_tagline">Cloud-based, Dockerized, Mobile-optimized next-generation sequencing and analysis solution</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/nathan2wong/NGSomics/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/nathan2wong/NGSomics/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
          <h2>NGSomics (Next Generation Sequencing Genomics): An Intuitive, Parallelized NGS Pipeline for Analysis and Drug Correlation</h2>
          <p>Some content is outdated and will be updated later to reflect this project more accurately. Stay tuned!</p>
          <h2><a href="https://hub.docker.com/r/nathan2wong/ngsomics/">Download dependencies on Docker</a></h2>
          <h3>Question:</h3>
<p>Can the tedious process of NGS (Next Generation Sequencing) be reduced to a singular, simple cloud platform which chains multiple tools together in parallel?</p>
          <h3>Goal:</h3>
<p>To make the process of using multiple NGS tools more efficient and accessible (described in design criteria).</p>
          <h3>Hypothesis:</h3>
Chaining multiple NGS tools together on a cloud platform will increase both portability and efficiency of data processing through parallelization.
          <h3>Materials:</h3>
          <ol>Entire genome analysis toolkit pipeline (GATK/Churchill/Platypus/Freebayes): confidently sequence/map necessary DNA data for (1) variant calling (2) differential gene expression [TopHat/Cuffdiff].</ol>
          <ol>DNA microarray with analysis platform ( Genechip/ChiPSeq): Interpret raw DNA to convert to BAM files for later analysis.</ol>
          <ol>Cloud Tools: The freely available Docker Toolbox allows for cross­platform connection and sync between containers.</ol>
          <h3>Methods:</h3>
          <h4>Data Cleanup:</h4> 
          <p>The raw data generated needs to be better formatted for variant calling analysis.</p>
          <h4>Raw reads:</h4> 
          <p>After the DNA microarray has been scanned by the processing machine, billions of reads (strings of DNA text) are produced. Map to Reference: The raw reads from the patient are then compared to a reference genome database (Genome in a Bottle Consortium), which has been standardized and tested universally. Mark Duplicates/Sort: When the reads are mapped against the reference, copies of reads are also sequenced in the process.  These additional reads are not relevant and are marked separately so that they can be ignored later on in the process. Indel Realignment: Since the algorithms used to map the reads are prone to error, such as an indel (deletion/addition of bases in DNA) getting mapped incorrectly with bases and would appear as evidence for a SNP (change of one base in DNA) instead, this realignment process finds the most reliable location of the reads.  First, the intervals to be realigned are identified, and then the sequence with the highest confidence level (based on various statistical tests) is used. Base Recalibration: Because the algorithms used to identify variants rely so much on the accuracy (based on quality scores) of each base in the sequence, base quality scores (that is a statistical estimate of error per base) are recalibrated and checked.  Due to possible over or underestimation of the scores produced, machine learning is utilized in order to account for these errors and give more accurate results.</p>
          <h4>Variant Discovery:</h4> 
          <p>The “cleaned-up” data is used to identify variants, through a balance between sensitivity and specificity (minimizing false negatives and false positives respectively).</p>
          <h4>Variant Calling: </h4>
          <p>(A haplotype is a set of DNA variations/polymorphisms that are related and found on the same chromosome) The HaplotypeCaller determines which areas in the genome are likely to have a SNP or indel and changes the BAM file (binary sequence alignment data) into a VCF/gVCF file (variant call format) for later analysis. [The genomic VCF has more information, records for all the sites whether a variant was present or not, whereas a normal VCF file has only information for the site where a variant was detected.] Joint Genotyping: Running the GenotypeGVCFs on the VCFs produced in the previous step creates a set of raw SNP and indel calls that enables a more sensitive (being able to perceive a variant more readily) detection of variants. Variant Recalibration: In order to assign a quality score to each variant call, machine learning is again utilized to give the most accurate and reliable result.  The variant quality score is then used to winnow the raw set of variant calls in a way that best suits the desired level of quality, allowing for a more specific (being able to perceive a variant more carefully) analysis.</p>
          <h3>Evaluation: </h3>
          <p>This last optional step is done to refine the genotype calls and evaluate the quality of the calls to standardized resources.  This step, however, is instrumental in the machine learning algorithms.</p>

          <h2>Detailed Procedure: </h2>
          <ul>
          <ol>Obtain DNA data via microarray analysis or online databases if applicable.</ol>
          <ol>Using genome analysis pipelines, map and sequence the experimental genome with the reference genome as located in online databases.</ol>
          <ol>Use Docker Toolbox to setup and connect multiple disparate analysis tools.</ol>
          <ol>Setup Docker parallelization to allow for efficient and non­linear use of chained tools.</ol>
          <ol>Connect data input and output from each tool to the next and display results intuitively to user.</ol>
          <ol>Analyze pipeline output and link phenotype to certain drug in database.</ol>
          </ul>
          <h2>Methods:</h2>
          <ol>\Next Generation Sequencing: Use cutting-edge bioinformatics methods to sensitively and specifically map genome while calling possible DNA base pair variants and gene expression differences to reliably determine proteins transcribed.</ol>
          <ol>Parallelization: Either use open-source software or create own method of running multiple tools in parallel.</ol>
          <ol>Flexibility: Allow users to swap certain tools with other open-source tools by loosely connecting each container and allowing for easy swapping.</ol>
          <ol>Unified Variant Calling: Seek out indels (deletion/addition) and SNPs (changes in single base pair) and structural changes (large and very affecting)</ol>
          <ol>Drug Correlation: Creation of online drug database through a NoSQL (Mongo) database which allows for quick access and query.</ol>

          <h2>Design Criteria (Software Criteria):</h2>
          <p>Correctness: Refer to DNA Variation Criteria to determine the accuracy of this program.</p>
          <h3>Efficiency:</h3>
          <li>Using Docker Starter Edition allows up to 10 Docker Engines for our servers, each of which is capable of compiling and running the applications on our server</li>
          <li>Parallel Efficiency of using all 10 of these engines can be calculated as S/(p*T(p)) where S represents the execution time of the program (linearly), p is the number of engines use simultaneously, and T(p) is the execution time when using p engines</li>
          <h3>Understandability and Maintainability:</h3>
          <li>Each container can be stopped, started, and saved at any time. This allows for easy image duplication and scaling up with one command, so 1 image setup can be easily upgraded to several.</li>
          <li>Each container image is listed separately in the setup so that an image can replace any other image in the pipeline at any time</li>
          <li>Dockerfiles, which hold container configuration, are automatically saved on Docker Hub, an online repository of Docker software, and can be duplicated or distributed freely</li>
          <li>The NoSQL database is easily accessible and can be updated in a few steps from any browser</li>
          <h3>Robustness:</h3>
          <li>Docker’s design allows for easy swapping of containers, meaning that different software tools which have the same purpose can be interchanged to allow for robustness of input</li>
          <li>The drug database is compiled and scraped from various online sources, and a drug match can be determined using multiple factors ­ if some data is innacurate, other data can be used as a substitute in determining a drug match</li>
          <h3>Reusability:</h3>
          <li>Docker containers, by nature, can be downloaded and distributed with ease. Docker Hub allows for public distribution of image configurations. Thus, this can be developed and continued easily by future efforts.</li>
          <li>The drug matching criteria can use user feedback in improving future drug matching results. Based on a user feedback system, the accuracy of the drug match can be determined and can be improved over time. This database and its metadata can also be open­sourced to allow for future development.</li>
          <h3>DNA Variation Criteria:</h3>
          <ol>Next Generation Sequencing: Use cutting-edge bioinformatics methods to sensitively and specifically map genome while calling possible DNA base pair variants and gene expression differences to reliably determine proteins transcribed.</ol>
          <ol>Parallelization: Either use open-source software or create own method of running multiple tools in parallel.</ol>
          <ol>Flexibility: Allow users to swap certain tools with other open-source tools by loosely connecting each container and allowing for easy swapping.</ol>
          <ol>Unified Variant Calling: Seek out indels (deletion/addition) and SNPs (changes in single base pair) and structural changes (large and very affecting)</ol>
          <ol>Drug Correlation: Creation of online drug database through a NoSQL (Mongo) database which allows for quick access and query.</ol>


 
          <h3>References:</h3>
          <ol>Understand the architecture. (n.d.). Retrieved October 1, 2015, from https://docs.docker.com/introduction/understanding­docker/</ol>
          <ol>Parse. (n.d.). Retrieved October 13, 2015, from https://parse.com/docs</ol>
          <ol>Next­Generation Sequencing (NGS). (n.d.). Retrieved October 13, 2015, from http://www.illumina.com/technology/next­generation­sequencing.html</ol>
          <ol>Inflammatory Bowel Disease ­ Crohn's Disease . (n.d.). Retrieved September 30, 2015, from http://www.agsaflorida.com/Home/PatientEducationLibrary/tabid/18426/ctl/View/mid/33464/De fault.aspx?ContentPubID=325</ol>
          <ol>GATK Best Practices Recommended workflows for variant discovery analysis with GATK. (n.d.). Retrieved September 10, 2015, from https://www.broadinstitute.org/gatk/guide/best­practices?bpm=DNAseq</ol>
          <ol>A comparison of methods for differential expression analysis of RNA­seq data. (n.d.). Retrieved October 7, 2015, from http://www.biomedcentral.com/1471­2105/14/91</ol>
          <ol>(n.d.). Retrieved September 2, 2015, from http://biorxiv.org/content/biorxiv/early/2014/05/28/005611.full.pdf</ol>
          <ol>https://www.dnastar.com/blog/next­gen­sequencing/how­accurate­is­your­variant­caller/</ol>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Ngsomics maintained by <a href="http://nathanwong.io">Nathan Wong</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
