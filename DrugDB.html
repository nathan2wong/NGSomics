
<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script>
        /*
var out = "";
$("h4").each(function(i){
var x = $(this).text();
out += (x.substring(0, x.indexOf(" ("))) + ",";
}
)
console.log(out)
*/
        $(document).ready(function () {

            $('#myButton').click(function () {
                console.log("test");
                $.ajax({
                    'url': 'https://crossorigin.me/http://dgidb.genome.wustl.edu/api/v1/interactions.json',
                    'type': 'GET',
                    'data': {
                        'genes': 'FLT1,STK1,FAKE1'
                    },
                    'success': function (data) {
                        if (data == "success") {
                            alert('request sent!');
                        }
                        console.log(data);
                    }
                });
            });
            $('#myButton2').click(function () {
                console.log("test2");
                var str = "ABC TRANSPORTER,B30_2 SPRY DOMAIN,CELL SURFACE,CLINICALLY ACTIONABLE,CYTOCHROME P450,DNA DIRECTED RNA POLYMERASE,DNA REPAIR,DRUG METABOLISM,DRUG RESISTANCE,DRUGGABLE GENOME,EXCHANGER,EXTERNAL SIDE OF PLASMA MEMBRANE,FIBRINOGEN,G PROTEIN COUPLED RECEPTOR,GROWTH FACTOR,HISTONE MODIFICATION,HORMONE ACTIVITY,ION CHANNEL,KINASE,LIPASE,LIPID KINASE,METHYL TRANSFERASE,MYOTUBULARIN RELATED PROTEIN PHOSPHATASE,NEUTRAL ZINC METALLOPEPTIDASE,NUCLEAR HORMONE RECEPTOR,PHOSPHATIDYLINOSITOL 3 KINASE,PHOSPHOLIPASE,PROTEASE,PROTEASE INHIBITOR,PROTEIN PHOSPHATASE,PTEN FAMILY,RNA DIRECTED DNA POLYMERASE,SERINE THREONINE KINASE,SHORT CHAIN DEHYDROGENASE REDUCTASE,THIOREDOXIN,TRANSCRIPTION FACTOR BINDING,TRANSCRIPTION FACTOR COMPLEX,TRANSPORTER,TUMOR SUPPRESSOR,TYROSINE KINASE";
                var arr = str.split(",");
                var out = "";
                for (var i = 0; i < arr.length; i++){
                    $.ajax({
                        'url': 'https://crossorigin.me/http://dgidb.genome.wustl.edu/api/v1/genes_in_category.json',
                        'type': 'GET',
                        'data': {
                            'category': arr[i].toLowerCase()
                        },
                        'success': function (data) {
                            var tmpout = "";
                            for (var j = 0; j < data.length-1; j++){
                                tmpout += data[j] + ",";
                                $("#para").text($("#para").text() + "" + data[j]+",");
                            }
                            tmpout += data[data.length-1] + "";
                            out += tmpout+",";
                            
                        }
                    });
                }
                
            });
        });
    </script>
</head>

<body>
    <div style="width: 1000px;"><button id="myButton">Test</button>
    <button id="myButton2">Test2</button>
        <p id = "para" style="width:100%;"></p></div>
</body>

</html>